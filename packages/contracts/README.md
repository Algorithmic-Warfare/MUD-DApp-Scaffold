# Contracts Package

A repository of Solidity written smart contracts defining systems, tables and namespaces within the MUD framework.

This package is based on the structure generated by MUD default template.


## Requirements

Get setup using, [Frontier devbox Ansible setup script](https://github.com/Algorithmic-Warfare/frontier-dev-box-setup), to get your fresh Ubuntu envrionment ready for development in one-command run.

## Dependencies

Install NPM packages,
```bash
cd packages/contracts
pnpm install
```

## Variables

Create `.env` file from `.envsample`:
```bash
cd packages/contracts
cp .envsample .env
```

The following environment variables are used to configure the `contracts` package:

-   `WORLD_ADDRESS`(\*): The address of the MUD World contract.
-   `CHAIN_ID`(\*): The ID of the Ethereum chain.
-   `PRIVATE_KEY`(\*): The private key of the deployer account.
-   `RPC_URL`(\*): The URL of the Ethereum RPC endpoint.

NOTE: Variables marked by (\*) are *REQUIRED* to be set.

**Example `.env` for local**
```sh
DEBUG=mud:*

WORLD_ADDRESS=0x0165878a594ca255338adfa4d48449f69242eb8f # AUTO world deployer address
CHAIN_ID=31337
PRIVATE_KEY=0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80 # DEFAULT Anvil account 
RPC_URL=http://127.0.0.1:8545

```

**Example `.env` for pyrope**
```sh
DEBUG=mud:*

WORLD_ADDRESS= # INSERT Current world address ...
CHAIN_ID=695569
PRIVATE_KEY= # INSERT Your private key ...
RPC_URL=https://pyrope-external-sync-node-rpc.live.tech.evefrontier.com

```

## Scripts

-   `build`: Builds the contracts using `mud build`.
-   `clean`: Cleans the build artifacts and autogenerated code.
-   `deploy:local`: Deploys the contracts to a local development network.
-   `deploy:pyrope`: Deploys the contracts to the Pyrope testnet.
-   `test`: Runs the tests using Forge.
-   `coverage`: Generates code coverage reports.
